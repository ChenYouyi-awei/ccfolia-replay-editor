# CCFOLIA Replay Editor

一个用于编辑和播放 CCFOLIA 跑团日志的网页工具。

## 功能特性

### 📥 数据导入
- 支持直接输入房间号或 URL 获取日志
- 支持导入 JSON 格式的日志文件
- 支持从 CCFOLIA 插件导入语音配置

### 🎬 播放功能
- 打字机效果文字显示
- 立绘显示与切换（支持多立绘模式）
- 背景图片切换（支持渐变过渡）
- BGM 播放控制
- 自动播放模式
- 进度条快速跳转

### 🔊 TTS 语音合成
- 支持 Web Speech API 和 Edge TTS
- 按角色配置不同语音、语速、音调
- 智能预加载（优先加载即将播放的消息）
- 语音配置导入/导出/重置

### ✏️ 编辑功能
- 编辑消息文本、立绘、背景、BGM
- 插入/删除/拖拽排序消息
- 角色进场/退场标记
- 过滤规则（按角色、频道、关键词）
- 编辑内容在重新过滤时保留

### 🎨 画布模式
- 固定比例画布（16:9 / 4:3 / 自定义）
- 可拖拽调整立绘位置和大小
- 可拖拽调整对话框位置和大小
- 缩放和平移画布

### 💾 项目管理
- 保存/加载项目（JSON 格式）
- 导出为视频（需要录屏软件配合）

## 使用方法

1. 直接用浏览器打开 `ccfolia-replay-editor.html`
2. 输入 CCFOLIA 房间号或导入日志 JSON
3. 在消息列表中编辑内容
4. 切换到播放视图预览效果

## 语音配置导入

如果你使用 CCFOLIA 插件并已配置角色语音：

1. 在 CCFOLIA 页面打开插件设置
2. 点击"导出配置"复制 JSON
3. 在本工具点击 🔊 按钮
4. 粘贴 JSON 并点击"解析配置"
5. 确认角色匹配后点击"导入配置"

## 快捷操作

- **点击对话框**：跳过打字动画 / 下一条消息
- **点击进度条**：跳转到指定位置
- **自动播放**：等待 TTS 完成后自动切换

## 浏览器兼容性

推荐使用 Chrome / Edge 浏览器以获得最佳 TTS 支持。

## License

MIT
